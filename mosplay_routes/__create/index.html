	<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<body>
<form action="" method=POST enctype="multipart/form-data">
<table border=1>
<tr><td colspan="2"><strong>Карта</strong></td></tr>
<tr><td align="right">Название рогейна</td><td><input type="text" name="title"></td></tr>
<tr><td align="right">Файл с картой</td><td><input type="file" name="map_file"></td></tr>
<tr><td align="right">Масштаб карты</td><td><input type="text" name="map_scale"> метров в одной точке</td></tr>
<tr><td align="right">Изменить размер карты</td><td><input type="text" name="map_size"> точек (размер длинной стороны)</td></tr>
<tr><td align="right">Положение точки старта на загружаемой карте</td><td>X = <input type="text" name="map_start_x"><br>Y = <input type="text" name="map_start_y"></td></tr>
<tr><td align="right">Осветлить карту</td><td><input type="text" name="map_gamma" value="1"> (1 = оставить как есть)</td></tr>
<tr><td colspan="2"><strong>Файл с координатами КП (0,0 - точка старта)</strong></td></tr>
<tr><td align="right">Файл (.xml)</td><td><input type="file" name="split_file"></td></tr>
<tr><td align="right">Масштаб</td><td><input type="text" name="split_scale"> единиц на метр</td></tr>
<tr><td colspan="2"><strong>Результаты</strong></td></tr>
<tr><td align="right">Файл результатов (.html)</td><td><input type="file" name="result_file"></td></tr>
<tr><td align="right">Номер колонки с временем финиша</td><td><input type="text" name="finish_column" value="7"></td></tr>
<tr><td align="right">Файл с поправками (неработаюие станции) (.csv)</td><td><input type="file" name="csv_file"> (строка на команду. Первая ячейка - номер команды без точки. Дальше ячейки вида 34-43, здесь 34 &mdash; номер неработающего КП, 43 &mdash; взятого после него. Если пропущено несколько подряд, то надо писать в одной ячейке 34-33-35-50. Тут первые 3 не сработали. Последнее взятое КП может быть финишем, это соответствует букве F</td></tr>
<tr><td align="right">Результаты сформировать в папке</td><td><input type="text" name="result_dir" value="out\mama\"> (должна существовать. Называть как в системе, например, в винде подпапка от места запуска скрипта - "mama\")</td></tr>
<tr><td colspan="2"><input type="submit" value="Отправить"></td></tr>
</table>
</form>
<p>Очень большой файл с картой не пройдет в форму, тут действует ограничение в настройках сервера на объем принимаемых данных в 2 Мб (обычно).</p>
<p>Осветление карты - это гамма-коррекция. Чем больше, тем светлее полученная карта. При осветлении на выходе будет формат jpg со сжатием 75%, карту с такого файла срисовать крайне трудно, это не gif с фиксированными цветами.</p>
<p>Все ссылки относительные, то есть можно сформировать результаты в одной папке, а затем их все вместе перенести в любое другое место. Картинка карты формируется в той же папке.</p>
<p>Будут вопросы, спрашивайте: shemyatikhin@gmail.com, Дмитрий.</p>
</body>
</html>
